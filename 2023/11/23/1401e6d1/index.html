<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Servlet | </title><meta name="author" content="我的公主-怡宝"><meta name="copyright" content="我的公主-怡宝"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Servlet项目创建 在IDEA中创建一个maven项目,选择webapp的骨架模板  pom.xml中添加依赖 1234567&lt;!-- servlet 的依赖 --&gt;&lt;dependency&gt;  &lt;groupId&gt;javax.servlet&lt;&#x2F;groupId&gt;  &lt;artifactId&gt;javax.servlet-api&lt;&#x2F;a">
<meta property="og:type" content="article">
<meta property="og:title" content="Servlet">
<meta property="og:url" content="https://coderitl.github.io/2023/11/23/1401e6d1/index.html">
<meta property="og:site_name">
<meta property="og:description" content="Servlet项目创建 在IDEA中创建一个maven项目,选择webapp的骨架模板  pom.xml中添加依赖 1234567&lt;!-- servlet 的依赖 --&gt;&lt;dependency&gt;  &lt;groupId&gt;javax.servlet&lt;&#x2F;groupId&gt;  &lt;artifactId&gt;javax.servlet-api&lt;&#x2F;a">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.0.6/bbg/07.jpg">
<meta property="article:published_time" content="2023-11-23T11:24:32.000Z">
<meta property="article:modified_time" content="2024-01-04T10:59:13.762Z">
<meta property="article:author" content="我的公主-怡宝">
<meta property="article:tag" content="coder-itl、Spring Security、Spring Boot、Java、Git、Linux、Docker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.0.6/bbg/07.jpg"><link rel="shortcut icon" href="https://img-blog.csdnimg.cn/f44f454681b440f3a8ae5f086d3c07d9.png"><link rel="canonical" href="https://coderitl.github.io/2023/11/23/1401e6d1/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Servlet',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-04 10:59:13'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/my.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.css" /><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" onerror="onerror=null;src='https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/Java-%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/"><i class="fa-fw fas fa-link"></i><span> Java-学习路线</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.0.6/bbg/07.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title=""><span class="site-name"></span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/Java-%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/"><i class="fa-fw fas fa-link"></i><span> Java-学习路线</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Servlet</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-11-23T11:24:32.000Z" title="Created 2023-11-23 11:24:32">2023-11-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-01-04T10:59:13.762Z" title="Updated 2024-01-04 10:59:13">2024-01-04</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Servlet"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><meta name="referrer" content="no-referrer"/>

<h3 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h3><h4 id="项目创建"><a href="#项目创建" class="headerlink" title="项目创建"></a>项目创建</h4><ul>
<li><p>在<code>IDEA</code>中创建一个<code>maven</code>项目,选择<code>webapp</code>的骨架模板</p>
</li>
<li><p><code>pom.xml</code>中添加依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- servlet 的依赖 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>web.xml</code>配置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Tomcat9 以下的配置是作为快速入门案例的配置,只此一次  --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Servlet配置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 名称 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Servlet的全称类名 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.example.servlet.GenericServletDemo<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 启动的优先级,数字越小越先启作用 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 映射配置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 名称 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 资源的精确匹配规则 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>url-pattern</code>定义匹配规则,取值说明<ul>
<li>精确匹配:<code>/具体的名称</code>,只有<code>url</code>路径是具体的名称的时候才会触发<code>Servlet</code></li>
<li>后缀匹配: <code>*.xxx</code>只要是以<code>xxx</code>结尾的就匹配触发<code>Servlet</code></li>
<li>通配符匹配:<code>/*</code> 匹配所有请求,包含服务器的所有资源</li>
<li>通配符匹配<code>/</code>: 匹配所有请求,包含服务器的所有资源,不包括<code>.jsp</code></li>
</ul>
</li>
<li><code>load-on-startup</code><ol>
<li>元素标记容器是否应该在<code>web</code>应用程序启动的时候就加载这个<code>servlet</code></li>
<li>它的值必须是一个整数,表示<code>servlet</code>被加载的先后顺序</li>
<li>如果该元素的值为负数或者没有设置,则容器会当<code>Servlet</code>被请求时再加载</li>
<li>如果值为正整数或者<code>0</code>时,表示容器再因公启动时就加载并初始化这个<code>servlet</code>，值越小,<code>servlet</code>的优先级越高,就越先被加载。值相同,容器就会自己选择顺序来加载。</li>
</ol>
</li>
</ul>
</li>
<li><p>创建类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.GenericServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericServletDemo</span> <span class="keyword">extends</span> <span class="title class_">GenericServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// GenericServletDemo info........</span></span><br><span class="line">        System.out.println(<span class="string">&quot;GenericServletDemo info........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>pom.xml</code>带删除线的解决</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/0d950095a630437eba33e2da8dd0f2b2.png" alt=""></p>
</li>
<li><p><code>webapp</code>目录失效的解决</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/8d87cb43dd534e59b4616e486b54c09e.png" alt=""></p>
</li>
<li><p>目录结构类型的调整</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/e489a29136f84a878b6b29a68e7a758c.png" alt=""></p>
</li>
</ul>
<h4 id="TCP与IP"><a href="#TCP与IP" class="headerlink" title="TCP与IP"></a>TCP与IP</h4><ul>
<li><p>通信协议</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>通信协议是指网络与计算机、计算机与计算机之间完成通信或服务所必须遵守的规则和约定，通过通信信道和设备将多个不同地理位置的数据通信系统互联起来，并使其能协同工作实现信息交换和资源共享,必须要遵守某种互相都能接受的规则,这个规则就是通信协议</p>
</div>
</li>
<li><p><code>TCP/IP</code></p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>在互联网发展之初,只有<code>TCP(传输控制协议)</code>和<code>IP(网际协议)</code>这两种协议,随着互联网的发展,数据的类型也越来越多,从最初的文本到图片,视频等各种各样的数据类型,在<code>TCP</code>和<code>IP</code>这两个协议的基础上不断进行扩展丰富,产生了很多新的协议,形成了一个通信协议大集合,通常称为<code>协议簇</code>,统称为<code>TCP/IP</code>协议</p>
</div>
</li>
<li><p><code>TCP/IP</code>特点</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>TCP/IP</code>协议最重要的特点是<code>分层管理</code>,按照分层结构,<code>TCP/IP</code>协议自下而上可分为<code>物理层、数据链路层、网络层、传输层、应用层</code>，可以理解为所有数据在传输的过程中要依次经过这<code>5</code>层模型,每层有不同的功能和用途</p>
</div>
</li>
<li><p><code>URI</code>和<code>URL</code>的区别</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>IP地址</code>能够唯一的标识网络中的某台计算机,如果访问的某个页面中包含了很多诸如图片、视频和音频等的内容,这些资源需要通过<code>URI</code>加载到浏览器中。<code>URI</code>的中文名称是<code>统一资源标识符</code>,使用它能够唯一的标记互联网上的资源.<code>URI</code>另一个常用的表现形式是<code>URL</code>，中文名称是<code>统一资源定位符</code>,也就是<code>网址</code>,它实际上是<code>URI</code>的一个子集</p>
</div>
</li>
</ul>
<h4 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h4><ul>
<li><p>什么是<code>HTTP</code></p>
<blockquote>
<p>超文本传输协议，是互联网上应用最为广泛的一种网络协议,是一个基于请求与响应模式的、无状态的、应用层协议、运行于<code>TCP</code>协议基础之上</p>
</blockquote>
</li>
<li><p><code>HTTP</code>协议的特点</p>
<ul>
<li><p><code>HTTP</code>协议基于标准的客户端服务模型,主要由<code>请求和响应构成</code>。与其他传输协议相比,它永远都是<code>客户端发起请求,服务器接收到请求后做出响应</code></p>
</li>
<li><p><code>HTTP</code>协议允许传输<code>任意类型的数据</code>，他的传输速度很快,当客户端向服务器请求服务时,需传送请求方法和路径,请求方法常用的有<code>GET、POST</code>等,每种方法规定了客户与服务器联系的类型</p>
</li>
<li><p><code>HTTP</code>协议是一个<code>无状态</code>的协议,无状态是指<code>HTTP</code>协议<code>对于数据处理没有记忆能力</code>,这意味着如果后续处理需要前面的信息,则它必须<code>重传</code>,这导致每次连接传送的数据量增大</p>
</li>
</ul>
</li>
<li><p><code>HTTP</code>请求报文</p>
<blockquote>
<p>当浏览器向<code>web</code>服务器发出请求时,它向服务器传递了一个数据块,也就是请i去信息(<code>请求报文</code>),<code>HTTP</code>请求报文信息由<code>4</code>部分组成</p>
</blockquote>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><ol>
<li><p>请求行 请求方法/地址 URL协议/版本</p>
</li>
<li><p>请求头(<code>Requet Header</code>)</p>
</li>
<li><p>空行</p>
</li>
<li><p>请求正文</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/62362b51ede044d6b9226e04f9a6d47d.png" alt=""></p>
</li>
</ol>
</div>
</li>
<li><p><code>HTTP</code>响应报文</p>
<ul>
<li><p>状态行</p>
</li>
<li><p>响应头(<code>Response Header</code>)</p>
</li>
<li><p>空行</p>
</li>
<li><p>响应正文</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/38704a29bc4541b7908a479842e90b94.png" alt=""></p>
</li>
</ul>
</li>
</ul>
<h4 id="常见状态码"><a href="#常见状态码" class="headerlink" title="常见状态码"></a>常见状态码</h4><ul>
<li><p>常见状态码</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/08fbc6eade0b4f81a29e8de1effc9933.png" alt=""></p>
</li>
</ul>
<h4 id="Servlet-1"><a href="#Servlet-1" class="headerlink" title="Servlet"></a>Servlet</h4><h5 id="核心接口和类"><a href="#核心接口和类" class="headerlink" title="核心接口和类"></a>核心接口和类</h5><ul>
<li><p><code>Servlet</code>处理客户端请求的流程</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/direct/886a8a8f57674a7aa64263d36109d8f0.png" alt=""></p>
<ul>
<li>客户端向<code>Web</code>服务器(<code>Tomcat</code>)发出<code>HTTP</code>请求</li>
<li><code>Servlet</code>容器解析客户端的<code>HTTP</code>请求,把请求信息交给指定的<code>Servlet</code>处理</li>
<li><code>Servlet</code>取得包括请求头在内的各种请求信息</li>
<li><code>Servlet</code>调用其他<code>Java</code>类的方法,完成对请求信息处理的逻辑</li>
<li><code>Servlet</code>实现到其他<code>Web</code>组件的跳转(<code>包括重定向和请求转发</code>)</li>
<li><code>Servlet</code>生成响应,并通过<code>Web</code>服务器返回<code>HTTP</code>响应给客户端</li>
</ul>
</li>
<li><p>核心接口和类</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>在<code>Servlet</code>体系结构中,除了实现<code>Servlet</code>接口,还可以通过继承<code>GenericServlet</code>或<code>HttpServlet</code>类,完成编写</p>
</div>
</li>
</ul>
<h5 id="Servlet-接口"><a href="#Servlet-接口" class="headerlink" title="Servlet-接口"></a>Servlet-接口</h5><ul>
<li><p>接口</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>在<code>Servlet API</code>中最重要的是<code>Servlet</code>接口,所有的<code>Servlet</code>都会直接或间接的与该接口发生联系,或是直接实现该接口，或间接继承自实现了该接口的类</p>
</div>
</li>
<li><p>该接口包含以下五个方法</p>
<ul>
<li><code>init</code></li>
<li><code>ServletConfig getServletConfig()</code></li>
<li><code>service(ServletRequest req,ServletResponse res)</code></li>
<li><code>String getServletInfo()</code></li>
<li><code>destory()</code></li>
</ul>
</li>
<li><p><code>GerericServlet</code>抽象类</p>
<blockquote>
<p><code>GerericServlet</code>使编写<code>Servlet</code>变得更容易。它提供生命周期方法<code>init</code>和<code>destory</code>的简单实现,要编写一般的<code>Servlet</code>，只需要重写抽象<code>service</code>方法即可</p>
</blockquote>
</li>
<li><p><code>HttpServlet</code>类</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>HttpServlet</code>是继承<code>GerericServlet</code>的基础上进一步的扩展</p>
<p>提供将要被子类化以创建适用于<code>Web</code>站点的<code>HTTP Servlet</code>的抽象类。<code>HttpServlet</code>的子类至少必须重写一个方法,该方法通常是以下这些方法之一</p>
</div>
<ul>
<li><code>doGet</code>: 如果<code>servlet</code>支持<code>HTTP GET</code>请求</li>
<li><code>doPost</code>: 用于<code>HTTP POST</code>请求</li>
<li><code>doPut</code>: 用于<code>HTTP PUT</code>请求</li>
<li><code>doDelete</code>: 用于<code>HTTP DELETE</code>请求</li>
</ul>
</li>
</ul>
<h4 id="GerericServlet"><a href="#GerericServlet" class="headerlink" title="GerericServlet"></a>GerericServlet</h4><ul>
<li><p>创建一个类,继承<code>GerericServlet</code>，重写<code>service</code>方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.GenericServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericServletDemo</span> <span class="keyword">extends</span> <span class="title class_">GenericServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> vod <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// GenericServletDemo info........</span></span><br><span class="line">        System.out.println(<span class="string">&quot;GenericServletDemo info........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置<code>web.xml</code>中的映射</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.example.servlet.GenericServletDemo<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>浏览器访问<code>web.xml</code>中配置的映射</p>
<blockquote>
<p><code>http://localhost:8080/myServlet</code></p>
</blockquote>
</li>
</ul>
<h4 id="HttpServet"><a href="#HttpServet" class="headerlink" title="HttpServet"></a>HttpServet</h4><ul>
<li><p>继承<code>HttpServlet</code>，重写带有<code>http 的 service</code>方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpServletDemo</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;HttpServlet Service.......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改<code>web.xml</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hs<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.example.servlet.HttpServletDemo<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hs<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hs<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>浏览器访问</p>
</li>
</ul>
<h4 id="注解配置"><a href="#注解配置" class="headerlink" title="注解配置"></a>注解配置</h4><ul>
<li><p>在<code>Servlet</code>的类上添加如下注解，删除<code>web.xml</code>中的相关配置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet(name = &quot;HttpServletDemo&quot;, value = &#123;&quot;/myHttpServlet&quot;, &quot;/myy&quot;&#125;, loadOnStartup = 0)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpServletDemo</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;HttpServlet Service.......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>常用属性说明</p>
<ul>
<li><code>name</code>:<code>Servlet</code>名字【可选】</li>
<li><code>value</code>: 配置<code>url</code>路径,可以配置多个</li>
<li><code>urlPatterns</code>: 配置<code>url</code>路径,和<code>value</code>作用一样,不能同时使用</li>
<li><code>loadOnStartup</code>: 配置<code>Servlet</code>的创建时机,如果是<code>0</code>或者<code>正数</code>,启动程序时创建,如果是<code>负数</code>，则访问时创建,数字越小优先级越高</li>
</ul>
</li>
</ul>
<h4 id="Servlet-应用"><a href="#Servlet-应用" class="headerlink" title="Servlet-应用"></a>Servlet-应用</h4><h5 id="Request对象"><a href="#Request对象" class="headerlink" title="Request对象"></a>Request对象</h5><ul>
<li><p><code>request</code>对象</p>
<blockquote>
<p>在<code>Servlet</code>中用来处理客户端请求需要用<code>doGet</code>或<code>doPost</code>方法的<code>request</code>对象</p>
</blockquote>
</li>
<li><p><code>get</code>和<code>post</code>的区别</p>
<ul>
<li><code>get</code><ul>
<li><code>get</code>提交的数据会放在<code>url</code>之后,以<code>?</code>分割<code>URL</code>和传输数据,参数之间以<code>&amp;</code>相连</li>
<li><code>get</code>方式明文传递，数据量小,不安全</li>
<li>效率高,浏览器默认请求方式为<code>GET</code>请求</li>
<li>对应的<code>Servlet</code>的方法是<code>doGet</code></li>
</ul>
</li>
<li><code>post</code><ul>
<li><code>post</code>方法是把提交的数据放在<code>HTTP</code>包的<code>Body</code>中</li>
<li>密文传递数据,数据量大,安全</li>
<li>效率相对没有<code>get</code>高</li>
<li>对应的<code>Servlet</code>的方法是<code>doPost</code></li>
</ul>
</li>
</ul>
</li>
<li><p><code>request</code>的主要方法</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/1c0dfee591b24e25b4f4da62d0c237b8.png" alt=""></p>
<ul>
<li><p><code>get</code>请求收参问题</p>
<blockquote>
<p>产生乱码是因为服务器和客户端沟通的编码不一致造成的,因此解决的办法是: 在客户端和服务器之间设置一个统一的编码,之后就按照此编码进行数据的传输和接受</p>
</blockquote>
</li>
<li><p>测试</p>
<ul>
<li><p><code>get</code></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/getFormValue&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line">    &lt;button type=<span class="string">&quot;submit&quot;</span>&gt;提交&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// servlet</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet(&quot;/getFormValue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpServletDemo</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// req.setCharacterEncoding(&quot;&quot;);</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;表单提交的数据: &quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>post</code></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/getFormValue&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;name&quot;</span>&gt;</span><br><span class="line">    &lt;button type=<span class="string">&quot;submit&quot;</span>&gt;提交&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// servlet</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet(&quot;/getFormValue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpServletDemo</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// req.setCharacterEncoding(&quot;&quot;);</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;表单提交的数据: &quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>post</code>中文数据乱码</p>
<blockquote>
<p>由于客户端是以<code>UTF-8</code>字符编码将表单数据传输到服务器的,因此服务器也需要设置以<code>UTF-8</code>字符编码进行接受</p>
<p>解决方案: 使用从<code>ServletRequest</code>接口继承而来的<code>setCharacterEncoding(charset)</code>方法进行统一的编码设置</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="Response-对象"><a href="#Response-对象" class="headerlink" title="Response 对象"></a>Response 对象</h5><ul>
<li><p><code>response</code>对象</p>
<blockquote>
<p><code>response</code>对象用于响应客户端请求并向客户端输出信息</p>
</blockquote>
</li>
<li><p>主要方法</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/cb591267bd3944af8ff093eb73f04462.png" alt=""></p>
</li>
<li><p>响应数据给客户端</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 同时设置服务端的编码格式和客户端响应的文件及响应时的编码格式</span></span><br><span class="line">resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>解决输出中文乱码<ul>
<li>设置服务端响应的编码格式</li>
<li>设置客户端响应内容的头内容的文件类型及编码格式</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="转发与重定向"><a href="#转发与重定向" class="headerlink" title="转发与重定向"></a>转发与重定向</h5><ul>
<li><p>转发</p>
<blockquote>
<p>转发的作用在服务器端,将请求发送给服务器上的其他资源,以共同完成一次请求的处理</p>
</blockquote>
<ul>
<li><p>页面跳转</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.getRequestDispatcher(<span class="string">&quot;/目标 url-pattern&quot;</span>).forward(request,response);</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>forward</code>跳转时,是在服务器内部跳转,地址栏不发生变化,属于同一次请求</p>
</li>
<li><p>数据传递</p>
<blockquote>
<p><code>forward</code>表示一次请求,是在服务器内部跳转,可以共享一次<code>request</code>作用域中的数据</p>
</blockquote>
<ul>
<li><code>request</code>作用域: 拥有存储数据的空间,作用范围是一次请求有效(<code>一次请求可以经过多次转发</code>)<ul>
<li>可以将数据存入<code>request</code>后,在一次请求过程中的任何位置进行获取</li>
<li>可传递任何数据(<code>基本数据类型、对象、数组、集合等</code>)</li>
</ul>
</li>
<li>存数据:<code>request.setAttribute(key,value)</code><ul>
<li>以键值对形式存储在<code>request</code>作用域中,<code>key</code>为<code>String</code>类型,<code>value</code>为<code>Object</code>类型</li>
</ul>
</li>
<li>取数据:<code>request.getAttribute(key)</code><ul>
<li>通过<code>String</code>类型的<code>key</code>访问<code>Object</code>类型的<code>value</code></li>
</ul>
</li>
</ul>
</li>
<li><p>转发的特点</p>
<ul>
<li>转发是服务器行为</li>
<li>转发是浏览器只做了一次访问请求</li>
<li>转发浏览器地址不变</li>
<li>转发两次跳转之间传输的信息不会丢失,所以可以通过<code>request</code>进行数据的传递</li>
<li>转发只能将请求转发给同一个<code>web</code>应用中的组件</li>
</ul>
</li>
</ul>
</li>
<li><p>重定向</p>
<blockquote>
<p>重定向作用在客户端,客户端将请求发送给服务器后,服务器响应给客户端一个新的请求地址,客户端重新发送新请求</p>
</blockquote>
<ul>
<li><p><code>response.sendRedirect(&quot;目标 URL&quot;)</code></p>
</li>
<li><p>数据传递</p>
<blockquote>
<p><code>sendRedirect</code>跳转时,地址栏改变,代表客户端重新发送的请求。属于两次请求</p>
</blockquote>
<ul>
<li><code>response</code> 没有作用域,两次<code>request</code>请求中的数据无法共享</li>
<li>传递数据: 通过<code>URI</code>的拼接进行数据传递(<code>/b?username=tom</code>)</li>
<li>获取数据:<code>request.getParameter(&quot;username&quot;)</code></li>
</ul>
</li>
<li><p>重定向特点</p>
<ul>
<li>重定向是客户端行为</li>
<li>重定向是浏览器做了至少两次的访问请求</li>
<li>重定向浏览器地址改变</li>
<li>重定向两次跳转之间传输的信息会丢失</li>
<li>重定向可以指向任何的资源,包括当前应用程序中的其他资源,同一个站点上的其他应用程序中的资源或者其他站点的资源</li>
</ul>
</li>
</ul>
</li>
<li><p>对比</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/direct/a83b89ac1e174115a80a0366a41cd34f.png" alt=""></p>
</li>
</ul>
<h4 id="乱码问题"><a href="#乱码问题" class="headerlink" title="乱码问题"></a>乱码问题</h4><ul>
<li><p><code>IDEA</code>控制台乱码解决</p>
<ul>
<li><p><code>File Encodings</code>配置为<code>UTF-8</code></p>
</li>
<li><p><code>vm options</code>中添加如下参数</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">-Dfile.encoding</span>=<span class="string">UTF-8</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>Tomcat VM</code>添加参数</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">-Dfile.encoding</span>=<span class="string">UTF-8</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>JSP</code>页面乱码</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Servlet-生命周期"><a href="#Servlet-生命周期" class="headerlink" title="Servlet-生命周期"></a>Servlet-生命周期</h4><ul>
<li><p>初始化阶段</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>当客户端向<code>Servlet</code>容器发出<code>HTTP</code>请求访问<code>Servlet</code>时,<code>Servlet</code>容器首先会解析请求,检查内存中<code>是否已经有了该 Servlet</code>对象,如果有,直接使用该<code>Servlet</code>对象,如果没有,就创建<code>Servlet</code>实例对象,然后通过调用<code>init()</code>方法完成<code>Servlet</code>的初始化,需要注意的是,在<code>Servlet</code>的整个生命周期内,他的<code>init()</code>方法只被调用一次</p>
</div>
</li>
<li><p>运行阶段</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>完成<code>Servlet</code>初始化以后,服务器会为客户端请求创建一个<code>ServletRequest</code>对象和一个<code>ServletResponse</code>对象,并将他们作为参数传给<code>Servlet</code>的<code>service</code>方法,<code>service()</code>方法通过<code>ServletRequest</code>对象来获取客户端的相关信息和请求信息,处理完成后,通过<code>ServletResponse</code>对象来设置响应信息,在<code>Servlet</code>的整个生命周期中，<code>service()</code>方法可以被调用多次,当有多个客户端并发请求<code>Servlet</code>时,服务器会启动多个线程执行该<code>Servlet</code>的<code>service()</code>方法</p>
</div>
</li>
<li><p>销毁阶段</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>当服务器关闭或<code>web</code>应用被移除出容器时,<code>Servlet</code>随着<code>web</code>应用的销毁而销毁.在销毁<code>Servlet</code>之前，<code>Servlet</code>容器会调用<code>Service</code>的<code>destory()</code>方法,以便让<code>Servlet</code>对象释放它所占用的资源。在<code>Servlet</code>的整个生命周期中,<code>destory()</code>也只被调用一次</p>
<p>需要注意的是,<code>Servlet</code>对象一旦创建就会驻留在内存中等待客户端的访问,直到服务器关闭，或<code>web</code>应用被移除出容器时<code>Servlet</code>对象才会销毁</p>
</div>
</li>
</ul>
<h4 id="Servlet-特性"><a href="#Servlet-特性" class="headerlink" title="Servlet 特性"></a>Servlet 特性</h4><ul>
<li><p>线程安全问题</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>Servlet</code>在访问之后,会执行实例化操作,创建一个<code>Servlet</code>对象,而我们<code>Tomcat</code>容器可以同时多个线程并发访问同一个<code>Servlet</code>，如果在方法中对成员变量做修改操作,就会有线程安全的问题</p>
</div>
</li>
<li><p>线程安全问题如何解决</p>
<blockquote>
<p>尽量使用局部的变量</p>
</blockquote>
</li>
</ul>
<h4 id="状态管理"><a href="#状态管理" class="headerlink" title="状态管理"></a>状态管理</h4><ul>
<li>状态管理分类<ul>
<li>客户端状态管理技术: 将状态保存在客户端,代表性的是<code>Cookie</code>技术</li>
<li>服务器状态管理技术: 将状态保存在服务器端,代表性的是<code>Session</code>技术(服务器传递<code>sessionID</code>时需要使用<code>Cookie</code>的方式)和<code>application</code></li>
</ul>
</li>
</ul>
<h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h4><ul>
<li><p>什么是<code>Cookie</code></p>
<ul>
<li><code>Cookie</code>是在浏览器访问<code>web</code>服务器的某个资源时,由<code>web</code>服务器在<code>HTTP</code>响应消息头中附带传给浏览器的一小段数据</li>
<li>一旦<code>web</code>浏览器保存了某个<code>Cookie</code>,那么它在以后每次访问该<code>web</code>服务器时,都应在<code>HTTP</code>请求头中将这个<code>Cookie</code>回传给<code>Web</code>服务器</li>
<li>一个<code>Cookie</code>主要由标识该信息的名称(<code>name</code>)和(<code>value</code>)组成</li>
</ul>
</li>
<li><p>创建<code>Cookie</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.cookie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 1. 创建 Cookie</span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">ck</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;key&quot;</span>,<span class="string">&quot;value&quot;</span>);</span><br><span class="line">        <span class="comment">// 设置 Cookie 可以被访问的路径</span></span><br><span class="line">        ck.setPath(<span class="string">&quot;/xxx&quot;</span>);</span><br><span class="line">        <span class="comment">// 内存存储</span></span><br><span class="line">        <span class="comment">// 取值有三种: &gt;0:有效期,单位秒</span></span><br><span class="line">        <span class="comment">// =0: 浏览器关闭</span></span><br><span class="line">        <span class="comment">// &lt;=:内存存储,默认 -1</span></span><br><span class="line">        ck.setMaxAge(-<span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 添加到 response 对象中,响应时发送给客户端</span></span><br><span class="line">        resp.addCookie(ck);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>获取<code>Cookie</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.cookie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">ck</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// 获取所有的 Cookie</span></span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="comment">// 遍历 Cookie</span></span><br><span class="line">        <span class="keyword">for</span> (Cookie cookie : cookies) &#123;</span><br><span class="line">            <span class="comment">// 检索出自己的 cookie</span></span><br><span class="line">            <span class="keyword">if</span> (cookie.getName().equals(<span class="string">&quot;xxx&quot;</span>)) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">                <span class="comment">// 记录 cookie 的值</span></span><br><span class="line">                code = ck.getValue();</span><br><span class="line">                ck = <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;&quot;</span>, code);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改<code>Cookie</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只需要保证 Cookie 的名和路径一直即可修改</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Cookie</code>的编码与解码</p>
<blockquote>
<p><code>Cookie</code>默认不支持<code>中文</code>,只能包含<code>ASCII</code>字符,所以<code>Cookie</code>需要对<code>Unicode</code>字符进行编码,否则会出现乱码</p>
</blockquote>
<ul>
<li>编码可以使用<code>java.net.URLEncoder</code>类的<code>encode(String str,String encoding)</code>方法</li>
<li>解码使用<code>java.net.URLDecoder</code>类的<code>decode(String str,String encoding)</code>方法</li>
</ul>
</li>
<li><p>创建带有中文的<code>Cookie</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.cookie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">ck</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(</span><br><span class="line">                URLEncoder.encode(<span class="string">&quot;姓名-键&quot;</span>, <span class="string">&quot;UTF-8&quot;</span>),</span><br><span class="line">                URLEncoder.encode(<span class="string">&quot;老李-值&quot;</span>, <span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line">        );</span><br><span class="line">        <span class="comment">// 发送到客户端</span></span><br><span class="line">        resp.addCookie(ck);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Cookie</code>优缺点</p>
<ul>
<li>优点<ul>
<li>可配置到期规则</li>
<li>简单性: <code>Cookie</code>是一种基于文本的轻量结构,包含简单的键值对</li>
<li>数据持久性:<code>Cookie</code>默认在国企之前是可以一直存在客户端浏览器上的</li>
</ul>
</li>
<li>缺点<ul>
<li>大小受限制: 大多数浏览器对<code>Cookie</code>的大小有<code>4k、8k</code>字节的限制</li>
<li>用户配置为禁用: 有些用户禁用了浏览器或客户端设备接受<code>Cookie</code>的能力,因此限制了这一功能</li>
<li>潜在安全风险:<code>Cookie</code>可能会被篡改,会对安全性造成潜在风险或者导致依赖于<code>Cookie</code>的应用程序失败</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h4><ul>
<li><p>概述</p>
<ul>
<li><code>session</code>用于记录用户的状态,<code>Session</code>指的是在一段时间内,单个客户端与<code>web</code>服务器的一连串相关的交互过程</li>
<li>在一个<code>session</code>中,客户可能会多次请求访问同一个资源,也有可能请求访问各种不同的服务器资源</li>
</ul>
</li>
<li><p><code>session</code>原理</p>
<ul>
<li>服务器会为每一次会话分配一个<code>Session</code>对象</li>
<li>同一个浏览器发起的多次请求,同属于一次会话</li>
<li>首次使用到<code>Session</code>时,服务器会自动创建<code>sesson</code>，并创建<code>cookie</code>存储<code>sessionId</code>发送回客户端</li>
<li><code>session 是由服务端创建的</code></li>
</ul>
</li>
<li><p>获取<code>session</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SessionDemo</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 获取 session </span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">// 唯一标记</span></span><br><span class="line">        System.out.println(session.getId());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Session</code>保存数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.setAttribute(<span class="string">&quot;key&quot;</span>,value); <span class="comment">// 以键值对的形式存储到 session 作用域中</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>session</code>获取数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.getAttribute(<span class="string">&quot;key&quot;</span>); <span class="comment">// 通过 String 类型的 Key 访问类型的 value  </span></span><br></pre></td></tr></table></figure>
</li>
<li><p>移除数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.removeAttribute(<span class="string">&quot;key&quot;</span>); <span class="comment">// 从 session 中删除数据</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Session</code>与<code>Request</code>应用区别</p>
<ul>
<li><code>request</code> 是一次请求有效,请求改变,则<code>request</code>改变</li>
<li><code>session</code>是一次会话有效,浏览器改变,则<code>session</code>改变</li>
</ul>
</li>
<li><p><code>session</code>的生命周期</p>
<ul>
<li><p>开始: 第一次使用到<code>session</code>的请求产生,则创建<code>session</code></p>
</li>
<li><p>结束</p>
<ul>
<li><p>浏览器关闭,则失效</p>
</li>
<li><p><code>session</code>超时,则失效</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.setMaxInactiveInterval(seconds); <span class="comment">// 设置最大有效时间(单位: 秒)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>手工销毁,则失效</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.invalidate(); <span class="comment">// 登录退出、注销</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="ServletContext-对象"><a href="#ServletContext-对象" class="headerlink" title="ServletContext 对象"></a>ServletContext 对象</h4><ul>
<li>概述<ul>
<li>全局对象,也拥有作用域,对应一个<code>Tomcat</code>中的<code>web</code>应用</li>
<li>当<code>web</code>服务器启动时,会为每一个<code>web</code>应用程序创建一块共享的存储区域(<code>ServletContext</code>)</li>
<li><code>ServletContext</code>在<code>web</code>服务器启动时创建,服务器关闭时销毁</li>
</ul>
</li>
<li><p>获取<code>ServletContext</code>对象</p>
<ul>
<li><code>GenericServlet</code>提供了<code>getServletContext()</code>方法<code>【推荐 this.getServletContext()】</code></li>
<li><code>HttpServletRequest</code>提供了<code>getServletContext()</code>方法<code>【推荐】</code></li>
<li><code>HttpSession</code>提供了<code>getServletContext()</code>方法</li>
</ul>
</li>
<li><p><code>ServletContext</code>作用</p>
<ul>
<li><p>获取项目真实路径</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/realPath&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContextDemo</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 获取当前项目在服务器发布的真实路径</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> ctx.getRealPath(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        <span class="comment">// G:\wnxy\servlet-demo\target\servlet-demo\</span></span><br><span class="line">        System.out.println(realPath);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取项目上下文路径</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取当前项目的上下文路径(应用程序名称)</span></span><br><span class="line"><span class="type">ServletContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line"><span class="type">String</span> <span class="variable">contextPath</span> <span class="operator">=</span> ctx.getContextPath();</span><br><span class="line"><span class="type">String</span> <span class="variable">reqContextPath</span> <span class="operator">=</span> req.getContextPath();</span><br><span class="line">System.out.println(<span class="string">&quot;上下文路径: &quot;</span> + contextPath);</span><br><span class="line">System.out.println(<span class="string">&quot;上下文路径: &quot;</span> + reqContextPath);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>全局容器</p>
<blockquote>
<p><code>ServletContext</code>拥有作用于,可以存储数据到全局容器中</p>
</blockquote>
<ul>
<li><p>存储数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ServletContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">ctx.setAttribute(<span class="string">&quot;key&quot;</span>,value);</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.getAttribute(<span class="string">&quot;key&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>移除数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.removeAttribute(<span class="string">&quot;key&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>ServletContext</code> 特点</p>
<ul>
<li>唯一性: 一个应用对应一个<code>servlet</code>上下文</li>
<li>生命周期: 只要容器不关闭或者应用不卸载,<code>servlet</code>上下文就一直在</li>
</ul>
</li>
<li><p>应用</p>
<blockquote>
<p>站点的计数器</p>
</blockquote>
</li>
<li><p>作用域总结</p>
<ul>
<li><code>HttpServletRequest</code>: 一次请求,请求响应之前有效</li>
<li><code>HttpSession</code>: 一次会话开始,浏览器不关闭或不超时之前有效</li>
<li><code>ServletContext</code>: 服务器启动开始,服务器停止之前有效</li>
</ul>
</li>
</ul>
<h4 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h4><ul>
<li><p>概念</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>过滤器(<code>Filter</code>)是处于客户端与服务器目标资源之间的一道过滤技术</p>
</div>
</li>
<li><p>作用</p>
<ul>
<li>执行地位在<code>Servlet</code>之前,客户端发送请求时,会先经过<code>Filter</code>，再到达目标<code>Servlet</code>中;响应时,会根据执行流程再次反向执行<code>Filter</code></li>
<li>可以解决多个<code>Servlet</code>共性代码的冗余问题(<code>例如: 乱码处理、登录验证</code>)</li>
</ul>
</li>
<li><p>实现过程</p>
<ul>
<li><p>编写<code>java</code>类实现<code>Filter</code>接口</p>
</li>
<li><p>在<code>doFilter</code>中编写拦截逻辑</p>
</li>
<li><p>设置拦截路径</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@WebFilter(&quot;/selectAll&quot;)</span> <span class="comment">// 拦截的路径</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="comment">// 设置编码</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 放行,向下传递</span></span><br><span class="line">         filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>过滤器配置</p>
<ul>
<li><p>注解配置</p>
</li>
<li><p><code>web.xml</code>配置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- xml 配置过滤器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 过滤器名称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>sf<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 过滤器全类称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.example.filter.GlobalFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 映射路径配置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>sf<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 过滤的 url 匹配规则和 Servlet 类似 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>过滤器链和优先级</p>
<ul>
<li><p>过滤器链</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>客户端对服务器请求之后,服务器调用<code>Servlet</code>之前会执行一组过滤器(<code>多个过滤器</code>),那么这组过滤器就称为一条过滤器链</p>
<p>每个过滤器实现某个特定的功能,当第一个<code>Filter</code>的<code>doFilter</code>方法被调用时,<code>Web</code>服务器会创建一个代表<code>Filter</code>链的<code>FilterChain</code>对象传递给该方法,在<code>doFilter</code>方法中,开发人员如果调用了<code>FilterChain</code>对象的<code>doFilter</code>方法,则<code>web</code>服务器会检查<code>FilterChain</code>对象中是否还有<code>filter</code>，如果有,则调用第二个<code>filter</code>，如果没有,则调用目标资源</p>
</div>
</li>
<li><p>过滤器的优先级</p>
<ul>
<li>如果为注解的话,是按照类全名称的字符串顺序决定作用顺序</li>
<li>如果是<code>web.xml</code>，按照<code>filter-mapping</code>注册顺序,从上往下</li>
<li><code>web.xml</code>配置高于注解方式</li>
<li>如果注解和<code>web.xml</code>同时配置,会创建多个过滤器对象,造成过滤多次</li>
</ul>
</li>
</ul>
</li>
<li><p><code>Filter</code>的生命周期</p>
<ul>
<li><p>初始化阶段</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><ul>
<li><code>Filter</code>的初始化阶段分为两个步骤<ol>
<li>创建<code>Filter</code>对象,服务器在启动时，它会根据<code>web.xml</code>中声明的<code>Filter</code>顺序依次生成<code>Filter</code>对象</li>
<li>执行<code>init()</code>方法,创建<code>Filter</code>对象之后,服务器将调用<code>init()</code>方法对<code>Filter</code>对象进行初始化,在这个过程中,<code>Filter</code>对象使用服务器为其提供的<code>FilterConfig</code>对象,从<code>web.xml</code>文件中获取初始化的参数,在<code>Filter</code>的整个生命周期内,<code>init()</code>方法只会被执行一次</li>
</ol>
</li>
</ul>
</div>
</li>
<li><p>执行<code>doFilter()</code>方法</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>当客户端请求目标资源时,服务器会筛选出符合映射条件的<code>Filter</code>，并根据<code>web.xml</code>中的配置顺序依次调用他们的<code>doFileter()</code>方法,在对多个拦截器的调用过程中,当前过滤器通过<code>FilterChain</code>对象的<code>doFilter()</code>方法将请求传给下一个过滤器或其他资源</p>
</div>
</li>
<li><p>销毁阶段</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>当<code>web</code>应用终止时,服务器调用<code>destory()</code>方法来释放资源,然后销毁<code>Filter</code>对象</p>
</div>
</li>
</ul>
</li>
</ul>
<h4 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h4><ul>
<li><p>前端页面要求</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">	文件上传表单:</span></span><br><span class="line"><span class="comment">		1. 表单调教类型: method=&quot;post&quot;</span></span><br><span class="line"><span class="comment">		2. 表单类型: enctype=&quot;multipart/form-data&quot;</span></span><br><span class="line"><span class="comment">		3. 表单元素类型: 文件域设置 name 属性值</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>后台实现</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>使用注解<code>@MultipartConfig</code>将一个<code>Servlet</code>标识为支持文件上传。<code>Servlet</code>将<code>multipart/form-data</code>的<code>POST</code>请求封装成<code>Part</code>,通过<code>Part</code>对上传的文件进行操作</p>
</div>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.MultipartConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Part;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果是文件上传表单,一定要加这个注解</span></span><br><span class="line"><span class="meta">@MultipartConfig</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/uploadServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadController</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 设置请求的编码格式</span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取普通表单项</span></span><br><span class="line">        <span class="comment">// String name = req.getParameter(&quot;name&quot;);</span></span><br><span class="line">        <span class="comment">// 通过 getPart(name) 方法获取 Part 对象 (name代表的是页面中 file 文件域的 name 属性值)</span></span><br><span class="line">        <span class="type">Part</span> <span class="variable">part</span> <span class="operator">=</span> req.getPart(<span class="string">&quot;myfile&quot;</span>);</span><br><span class="line">        <span class="comment">// 通过 Part 对象,获取上传的文件名</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> part.getSubmittedFileName();</span><br><span class="line">        <span class="comment">// 获取上传文件需要村烦的路径(得到项目存放的真实路径)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> req.getServletContext().getRealPath(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        <span class="comment">// 将文件上传到指定位置</span></span><br><span class="line">        part.write(realPath + fileName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h4><ul>
<li><p>文件下载</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>文件下载,即将服务器上的资源下载(拷贝)到本地,我们可以通过两种方式下载,第一种是通过超链接本身的特性来下载；第二种是通过代码来下载</p>
</div>
</li>
<li><p>默认下载</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 当超链接遇到浏览器不识别的资源时,会自动下载 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;test.zip&quot;</span>&gt;</span>超链接下载<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>指定<code>download</code>属性下载</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 当超链接遇到浏览器识别的资源时,默认不会自动下载。通过 download 属性可进行下载  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;test.txt&quot;</span> <span class="attr">doanload</span>&gt;</span>超链接下载<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/bd4e1d5b538c4d10a63db7b2a721dfb6.png" alt="点击自动打开可识别的文件"></p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>download</code>属性可以不写任何信息,会自动使用默认文件名。如果设置了<code>download</code>属性的值,则使用设置的值作为文件名。当用户打开浏览器点击链接的时候就会直接下载文件</p>
</div>
</li>
<li><p>后台实现下载</p>
<ul>
<li><p>需要通过<code>response.setContentType</code>方法设置<code>Content-type</code>头字段的值,为浏览器无法使用某种方式或激活某个程序来处理<code>MIME</code>类型，例如:<code>application/octet-stream</code>或<code>application/x-msdownload</code>等</p>
</li>
<li><p>需要通过<code>response.setHeader</code>方法设置<code>Content-Disposition</code>头的值为<code>attachment;filename=文件名</code></p>
</li>
<li><p>读取下载文件,调用<code>response.getOutputStream</code>方法向客户端写入附件内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.servlet;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet(&quot;/download&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DownloadServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 1. 设置请求的编码格式</span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">// 2. 获取参数(得到要下载的文件名)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;fileName&quot;</span>);</span><br><span class="line">        <span class="comment">// 3. 参数的非空判断 trim(): 去除字符串前后的空格</span></span><br><span class="line">        <span class="keyword">if</span> (fileName == <span class="literal">null</span> || <span class="string">&quot;&quot;</span>.equals(fileName.trim())) &#123;</span><br><span class="line">            resp.getWriter().write(<span class="string">&quot;请输入要下载的文件名!&quot;</span>);</span><br><span class="line">            resp.getWriter().close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 得到文件存放的路径【通过input选择文件也必须在此路径下选择任意文件】</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> req.getServletContext().getRealPath(<span class="string">&quot;/file/&quot;</span>);</span><br><span class="line">        <span class="comment">// 通过路径得到 file 对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path + fileName);</span><br><span class="line">        <span class="comment">// 判断文件对象是否存在并且是一个标准文件</span></span><br><span class="line">        <span class="keyword">if</span> (file.exists() &amp;&amp; file.isFile()) &#123;</span><br><span class="line">            <span class="comment">// 设置响应类型(浏览器无法使用某种方式或激活某个程序来处理的 MIME 类型)</span></span><br><span class="line">            resp.setContentType(<span class="string">&quot;application/x-msdownload&quot;</span>);</span><br><span class="line">            <span class="comment">// 设置响应头</span></span><br><span class="line">            resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;filename=&quot;</span> + fileName);</span><br><span class="line">            <span class="comment">// 得到 file 文件输入流</span></span><br><span class="line">            <span class="type">FileInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">            <span class="comment">// 得到字节输出流</span></span><br><span class="line">            <span class="type">ServletOutputStream</span> <span class="variable">out</span> <span class="operator">=</span> resp.getOutputStream();</span><br><span class="line">            <span class="comment">// 定义 byte 数组</span></span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="comment">// 定义长度</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> ((len = in.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// 输出</span></span><br><span class="line">                out.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 关闭资源</span></span><br><span class="line">            out.close();</span><br><span class="line">            in.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/download&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;fileName&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>上传<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="JSP-九大内置对象"><a href="#JSP-九大内置对象" class="headerlink" title="JSP-九大内置对象"></a>JSP-九大内置对象</h4><ul>
<li><code>pageContext</code>-<code>JSP</code>页面容器</li>
<li><code>request</code>请求对象</li>
<li><code>session</code>会话对象</li>
<li><code>application</code>全局对象</li>
<li><code>response</code>响应对象</li>
<li><code>config</code>配置对象(<code>服务器配置信息</code>)</li>
<li><code>out</code>输出对象</li>
<li><code>page</code>当前<code>JSP</code>页面对象(<code>相当于 java</code>中的<code>this</code>)</li>
<li><code>exception</code>异常对象</li>
</ul>
<h4 id="四种范围对象作用域"><a href="#四种范围对象作用域" class="headerlink" title="四种范围对象作用域"></a>四种范围对象作用域</h4><ul>
<li><code>pageContext</code></li>
<li><code>request</code></li>
<li><code>session</code></li>
<li><code>application</code></li>
</ul>
<h4 id="Listener"><a href="#Listener" class="headerlink" title="Listener"></a>Listener</h4><ul>
<li><p>简介</p>
<div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>Listener</code>又称监听器,用于对<code>Web</code>应用中特定的事件进行监听.当被监听的事件发生时,<code>Listener</code>将会触发对应的方法来实现一些特殊的功能。</p>
<p>一个<code>Listener</code>就是一个实现特定接口的<code>Java</code>类,它用于监听另一个<code>Java</code>类对象的方法调用或属性改变后,<code>Listener</code>的某个方法将立即被执行。<code>Listener</code>的工作原理如下:</p>
<p><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/direct/c38b5f4aaf9445a5ad0a2eefc7e1ff00.png" alt=""></p>
</div>
</li>
<li><p>使用步骤</p>
<ul>
<li>定义一个类,实现<code>ServletContextListener</code>接口</li>
<li>复写方法</li>
<li>配置<ul>
<li><code>web.xml</code></li>
<li><code>注解</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://coderitl.github.io">我的公主-怡宝</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://coderitl.github.io/2023/11/23/1401e6d1/">https://coderitl.github.io/2023/11/23/1401e6d1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.0.6/bbg/07.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/11/23/5f710c16/" title="开发工具配置"><img class="cover" src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/ce839b7a2de949ad84b2ed1da2524dc5.png" onerror="onerror=null;src='https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">开发工具配置</div></div></a></div><div class="next-post pull-right"><a href="/2023/11/23/290842ad/" title="前后端分离的-JavaWeb"><img class="cover" src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img-blog.csdnimg.cn/554e9ded810b4a2aafcb04c35ca250b4.jpeg" onerror="onerror=null;src='https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">前后端分离的-JavaWeb</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" onerror="this.onerror=null;this.src='https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg'" alt="avatar"/></div><div class="author-info__name">我的公主-怡宝</div><div class="author-info__description">学习,应该是发自内心的,而不是被强加的!</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/coderitl"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">本站所有图片来源于网络,侵权请添加管理员删除【3327511395@qq.com】!</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet"><span class="toc-number">1.</span> <span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA"><span class="toc-number">1.1.</span> <span class="toc-text">项目创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP%E4%B8%8EIP"><span class="toc-number">1.2.</span> <span class="toc-text">TCP与IP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP"><span class="toc-number">1.3.</span> <span class="toc-text">HTTP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">1.4.</span> <span class="toc-text">常见状态码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Servlet-1"><span class="toc-number">1.5.</span> <span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%B1%BB"><span class="toc-number">1.5.1.</span> <span class="toc-text">核心接口和类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Servlet-%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.5.2.</span> <span class="toc-text">Servlet-接口</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GerericServlet"><span class="toc-number">1.6.</span> <span class="toc-text">GerericServlet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HttpServet"><span class="toc-number">1.7.</span> <span class="toc-text">HttpServet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE"><span class="toc-number">1.8.</span> <span class="toc-text">注解配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Servlet-%E5%BA%94%E7%94%A8"><span class="toc-number">1.9.</span> <span class="toc-text">Servlet-应用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Request%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.9.1.</span> <span class="toc-text">Request对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Response-%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.9.2.</span> <span class="toc-text">Response 对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BD%AC%E5%8F%91%E4%B8%8E%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.9.3.</span> <span class="toc-text">转发与重定向</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">1.10.</span> <span class="toc-text">乱码问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Servlet-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.11.</span> <span class="toc-text">Servlet-生命周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Servlet-%E7%89%B9%E6%80%A7"><span class="toc-number">1.12.</span> <span class="toc-text">Servlet 特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="toc-number">1.13.</span> <span class="toc-text">状态管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Cookie"><span class="toc-number">1.14.</span> <span class="toc-text">Cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Session"><span class="toc-number">1.15.</span> <span class="toc-text">Session</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ServletContext-%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.16.</span> <span class="toc-text">ServletContext 对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">1.17.</span> <span class="toc-text">过滤器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-number">1.18.</span> <span class="toc-text">文件上传</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.19.</span> <span class="toc-text">文件下载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP-%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.20.</span> <span class="toc-text">JSP-九大内置对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E7%A7%8D%E8%8C%83%E5%9B%B4%E5%AF%B9%E8%B1%A1%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.21.</span> <span class="toc-text">四种范围对象作用域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Listener"><span class="toc-number">1.22.</span> <span class="toc-text">Listener</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By 我的公主-怡宝</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">coder-itl</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addModeChange('mermaid', runMermaid)

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  function abcjsInit() {
    function abcjsFn() {
      for (let abcContainer of document.getElementsByClassName("abc-music-sheet")) {
        ABCJS.renderAbc(abcContainer, abcContainer.innerHTML, {responsive: 'resize'})
      }
    }
    
    typeof ABCJS === 'object' ? abcjsFn()
      : getScript('https://cdn.jsdelivr.net/npm/abcjs/dist/abcjs-basic-min.min.js').then(abcjsFn)
  }

  window.pjax ? abcjsInit() : document.addEventListener('DOMContentLoaded', abcjsInit)
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://npm.elemecdn.com/hexo-butterfly-clock/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_injector_config();
  }
  </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax src="https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.js"></script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><div id="ghbdages" style="overflow:hidden;max-height:90px;height:auto;text-align:center;margin-top:10px"><div class="swiper-wrapper"><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v5.4.0"><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v3.8.2"><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://www.jsdelivr.com/" style="margin-inline:5px" title="本站使用JsDelivr为静态资源提供CDN加速"><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" alt=""/></a></div><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用双线部署，默认线路托管于Vercel"><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用双线部署，联通线路托管于Coding"><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&amp;logo=Codio" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本站项目由Github托管"><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a></div><div class="swiper-slide"><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></div></div></div><style>a.github-badge:hover:before {display:none}</style>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/06/23/59b60d90/" alt=""><img width="48" height="48" src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.10/day321/06.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-23</span><a class="blog-slider__title" href="2023/06/23/59b60d90/" alt="">标签插件</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/06/23/59b60d90/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/06/23/9f9a8f86/" alt=""><img width="48" height="48" src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/Access@v1.0/medias/featureimages/17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-23</span><a class="blog-slider__title" href="2023/06/23/9f9a8f86/" alt="">Node-多版本无缝切换</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/06/23/9f9a8f86/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/06/23/5097b404/" alt=""><img width="48" height="48" src= "https://i0.imgs.ovh/2023/11/08/lSn6l.jpeg" data-lazy-src="https://cdn.jsdelivr.net/gh/coderitl/hiddenContent@v1.0.4/re-18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-23</span><a class="blog-slider__title" href="2023/06/23/5097b404/" alt="">加密列表</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/06/23/5097b404/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>